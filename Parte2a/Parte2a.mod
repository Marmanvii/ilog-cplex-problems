/*********************************************
 * OPL 12.8.0.0 Model
 * Author: claud
 * Creation Date: 29-11-2018 at 2:48:45
 *********************************************/
range i = 1..10; // rango conexión entre nodos
range j = 1..10;
  //-------------//
 
dvar int+ x[i][j]; // cantidad de mensajes de nodo i a j
dvar int+ v; //flujo máximo de los nodos

maximize v;

subject to{
	// Oferta
	ct1: x[1][2] + x[1][3] + x[1][4] == v;
	
	// Demanda
	ct2: x[7][10] + x[8][10] + x[9][10] == v; 
	
	// Transición 
	ct3: x[2][3] + x[2][5] + x[2][7] - x[1][2] == 0;
	ct4: x[3][4] + x[3][5] - x[1][3] - x[2][3] == 0;
	ct5: x[4][6] + x[4][9] - x[1][4] - x[3][4] == 0;
	ct6: x[5][6] + x[5][7] + x[5][8] - x[2][5] - x[3][5] == 0;
	ct7: x[6][8] + x[6][9] - x[4][6] - x[5][6] == 0;
	ct8: x[7][10] - x[2][7] - x[5][7] == 0;
	ct9: x[8][10] - x[5][8] - x[6][8] == 0;
	ct10: x[9][10] - x[4][9] - x[6][9] == 0;
	
	// Capacidad de Aristas
	
	ct11: x[1][2] <= 30;
	ct12: x[1][3] <= 18;
	ct13: x[1][4] <= 19;
	ct14: x[2][3] <= 9;
	ct15: x[2][5] <= 7; 
	ct16: x[2][7] <= 16;
	ct17: x[3][4] <= 10;
	ct18: x[3][5] <= 12;
	ct19: x[4][6] <= 16;
	ct20: x[4][9] <= 8;
	ct21: x[5][6] <= 8;
	ct22: x[5][7] <= 12; 
	ct23: x[5][8] <= 10;
	ct24: x[6][8] <= 7;
	ct25: x[6][9] <= 11;
	ct26: x[7][10] <= 28;
	ct27: x[8][10] <= 17;
	ct28: x[9][10] <= 19;
	
}